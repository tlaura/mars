(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs'), require('@angular/common')) :
        typeof define === 'function' && define.amd ? define('ngx-social-button', ['exports', '@angular/core', 'rxjs', '@angular/common'], factory) :
            (factory((global['ngx-social-button'] = {}), global.ng.core, global.rxjs, global.ng.common));
}(this, (function (exports, i0, rxjs, common) {
    'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({__proto__: []} instanceof Array && function (d, b) {
                d.__proto__ = b;
            }) ||
            function (d, b) {
                for (var p in b)
                    if (b.hasOwnProperty(p))
                        d[p] = b[p];
            };
        return extendStatics(d, b);
    };

    function __extends(d, b) {
        extendStatics(d, b);

        function __() {
            this.constructor = d;
        }

        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var /**
     * @abstract
     */ BaseLoginProviderImpl = (function () {
        function BaseLoginProviderImpl() {
        }

        /**
         * @param {?} obj
         * @param {?} onload
         * @return {?}
         */
        BaseLoginProviderImpl.prototype.loadScript = /**
         * @param {?} obj
         * @param {?} onload
         * @return {?}
         */
        function (obj, onload) {
            if (document.getElementById(obj.name)) {
                return;
            }
            /** @type {?} */
            var signInJS = document.createElement('script');
            signInJS.async = true;
            signInJS.src = obj.url;
            signInJS.onload = onload;
            if (obj.name === 'linkedin') {
                signInJS.async = false;
                signInJS.text = ('api_key: ' + obj.id).replace('\'', '');
            }
            document.head.appendChild(signInJS);
        };
        return BaseLoginProviderImpl;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SocialUser = (function () {
        function SocialUser() {
        }

        return SocialUser;
    }());
    var LoginProviderClass = (function () {
        function LoginProviderClass() {
        }

        return LoginProviderClass;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FacebookLoginProvider = (function (_super) {
        __extends(FacebookLoginProvider, _super);

        function FacebookLoginProvider(clientId) {
            var _this = _super.call(this) || this;
            _this.clientId = clientId;
            _this.TYPE = 'facebook';
            _this.loginProviderObj = new LoginProviderClass();
            _this.loginProviderObj.id = clientId;
            _this.loginProviderObj.name = 'facebook';
            _this.loginProviderObj.url = 'https://connect.facebook.net/en_US/sdk.js';
            return _this;
        }

        /**
         * @return {?}
         */
        FacebookLoginProvider.prototype.initialize = /**
         * @return {?}
         */
        function () {
            var _this = this;
            return new Promise(function (resolve, reject) {
                _this.loadScript(_this.loginProviderObj, function () {
                    FB.init({
                        appId: _this.clientId,
                        autoLogAppEvents: true,
                        cookie: true,
                        xfbml: true,
                        version: 'v2.8'
                    });
                    FB.AppEvents.logPageView();
                    FB.getLoginStatus(function (response) {
                        if (response.status === 'connected') {
                            /** @type {?} */
                            var accessToken_1 = FB.getAuthResponse()['accessToken'];
                            FB.api('/me?fields=name,email,picture', function (res) {
                                resolve(FacebookLoginProvider.drawUser(Object.assign({}, {token: accessToken_1}, res)));
                            });
                        }
                    });
                });
            });
        };
        /**
         * @param {?} response
         * @return {?}
         */
        FacebookLoginProvider.drawUser = /**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            /** @type {?} */
            var user = new SocialUser();
            user.id = response.id;
            user.name = response.name;
            user.email = response.email;
            user.accessToken = response.accessToken;
            user.image = 'https://graph.facebook.com/' + response.id + '/picture?type=normal';
            return user;
        };
        /**
         * @param {?=} scopes
         * @return {?}
         */
        FacebookLoginProvider.prototype.signIn = /**
         * @param {?=} scopes
         * @return {?}
         */
        function (scopes) {
            return new Promise(function (resolve, reject) {
                FB.login(function (response) {
                    console.log("facebook", response);
                    if (response.authResponse) {
                        /** @type {?} */
                        var accessToken_2 = FB.getAuthResponse()['accessToken'];
                        FB.api('/me?fields=name,email,picture', function (res) {
                            console.log("me", res);
                            resolve(FacebookLoginProvider.drawUser(Object.assign({}, {accessToken: accessToken_2}, res)));
                        });
                    }
                }, {scope: scopes && scopes.length > 0 ? scopes.join(',') : 'email,public_profile'});
            });
        };
        /**
         * @param {?=} share
         * @return {?}
         */
        FacebookLoginProvider.prototype.sharing = /**
         * @param {?=} share
         * @return {?}
         */
        function (share) {
            return new Promise(function (resolve, reject) {
                FB.ui({
                    method: 'share',
                    href: share.href,
                    hashtag: (share.hashtag && share.hashtag.indexOf('#') >= 0) ? share.hashtag : null
                }, function (response) {
                    console.log(response);
                    resolve();
                });
            });
        };
        /**
         * @return {?}
         */
        FacebookLoginProvider.prototype.signOut = /**
         * @return {?}
         */
        function () {
            return new Promise(function (resolve, reject) {
                FB.logout(function (response) {
                    resolve();
                });
            });
        };
        FacebookLoginProvider.PROVIDER_TYPE = 'facebook';
        FacebookLoginProvider.SCOPES = {
            EMAIL: 'email',
            PUBLIC_PROFILE: 'public_profile'
        };
        return FacebookLoginProvider;
    }(BaseLoginProviderImpl));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var GoogleLoginProvider = (function (_super) {
        __extends(GoogleLoginProvider, _super);

        function GoogleLoginProvider(clientId) {
            var _this = _super.call(this) || this;
            _this.clientId = clientId;
            _this.loginProviderObj = new LoginProviderClass();
            _this.TYPE = 'google';
            _this.loginProviderObj.id = clientId;
            _this.loginProviderObj.name = 'google';
            _this.loginProviderObj.url = 'https://apis.google.com/js/platform.js';
            return _this;
        }

        /**
         * @return {?}
         */
        GoogleLoginProvider.prototype.initialize = /**
         * @return {?}
         */
        function () {
            var _this = this;
            return new Promise(function (resolve, reject) {
                _this.loadScript(_this.loginProviderObj, function () {
                    gapi.load('auth2', function () {
                        _this.auth2 = gapi.auth2.init({
                            client_id: _this.clientId,
                            scope: 'email'
                        });
                        _this.auth2.then(function () {
                            if (_this.auth2.isSignedIn.get()) {
                                resolve(_this.drawUser());
                            }
                        });
                    });
                });
            });
        };
        /**
         * @return {?}
         */
        GoogleLoginProvider.prototype.drawUser = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var user = new SocialUser();
            /** @type {?} */
            var profile = this.auth2.currentUser.get().getBasicProfile();
            /** @type {?} */
            var authResponseObj = this.auth2.currentUser.get().getAuthResponse(true);
            user.id = profile.getId();
            user.name = profile.getName();
            user.email = profile.getEmail();
            user.image = profile.getImageUrl();
            user.accessToken = authResponseObj.access_token;
            user.idToken = authResponseObj.id_token;
            return user;
        };
        /**
         * @param {?=} scopes
         * @return {?}
         */
        GoogleLoginProvider.prototype.signIn = /**
         * @param {?=} scopes
         * @return {?}
         */
        function (scopes) {
            var _this = this;
            return new Promise(function (resolve, reject) {
                /** @type {?} */
                var promise = _this.auth2.signIn();
                promise.then(function () {
                    resolve(_this.drawUser());
                }).catch(function (err) {
                    reject(err);
                });
            });
        };
        /**
         * @return {?}
         */
        GoogleLoginProvider.prototype.signOut = /**
         * @return {?}
         */
        function () {
            var _this = this;
            return new Promise(function (resolve, reject) {
                _this.auth2.signOut().then(function (err) {
                    if (err) {
                        reject(err);
                    } else {
                        resolve();
                    }
                });
            });
        };
        /**
         * @param {?=} share
         * @return {?}
         */
        GoogleLoginProvider.prototype.sharing = /**
         * @param {?=} share
         * @return {?}
         */
        function (share) {
            return new Promise(function (resolve, reject) {
                resolve();
            });
        };
        GoogleLoginProvider.PROVIDER_TYPE = 'google';
        return GoogleLoginProvider;
    }(BaseLoginProviderImpl));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LinkedinLoginProvider = (function (_super) {
        __extends(LinkedinLoginProvider, _super);

        function LinkedinLoginProvider(clientId) {
            var _this = _super.call(this) || this;
            _this.clientId = clientId;
            _this.loginProviderObj = new LoginProviderClass();
            _this.TYPE = 'linkedin';
            _this.loginProviderObj.id = clientId;
            _this.loginProviderObj.name = 'linkedin';
            _this.loginProviderObj.url = 'https://platform.linkedin.com/in.js';
            return _this;
        }

        /**
         * @return {?}
         */
        LinkedinLoginProvider.prototype.initialize = /**
         * @return {?}
         */
        function () {
            var _this = this;
            return new Promise(function (resolve, reject) {
                _this.loadScript(_this.loginProviderObj, function () {
                    IN.init({
                        api_key: _this.clientId,
                        authorize: true,
                        onLoad: _this.onLinkedInLoad()
                    });
                    IN.Event.on(IN, 'auth', function () {
                        if (IN.User.isAuthorized()) {
                            IN.API.Raw('/people/~:(id,first-name,last-name,email-address,picture-url)').result(function (res) {
                                resolve(_this.drawUser(res));
                            });
                        }
                    });
                });
            });
        };
        /**
         * @return {?}
         */
        LinkedinLoginProvider.prototype.onLinkedInLoad = /**
         * @return {?}
         */
        function () {
            IN.Event.on(IN, 'systemReady', function () {
                IN.User.refresh();
            });
        };
        /**
         * @param {?} response
         * @return {?}
         */
        LinkedinLoginProvider.prototype.drawUser = /**
         * @param {?} response
         * @return {?}
         */
        function (response) {
            /** @type {?} */
            var user = new SocialUser();
            user.id = response.id;
            user.name = response.firstName + ' ' + response.lastName;
            user.email = response.emailAddress;
            user.image = response.pictureUrl;
            user.accessToken = IN.ENV.auth.oauth_token;
            return user;
        };
        /**
         * @return {?}
         */
        LinkedinLoginProvider.prototype.signIn = /**
         * @return {?}
         */
        function () {
            var _this = this;
            return new Promise(function (resolve, reject) {
                IN.User.authorize(function () {
                    IN.API.Raw('/people/~:(id,first-name,last-name,email-address,picture-url)').result(function (res) {
                        console.log('linkedin', res);
                        resolve(_this.drawUser(res));
                    });
                });
            });
        };
        /**
         * @return {?}
         */
        LinkedinLoginProvider.prototype.signOut = /**
         * @return {?}
         */
        function () {
            return new Promise(function (resolve, reject) {
                IN.User.logout(function (response) {
                    resolve();
                }, function (err) {
                    reject(err);
                });
            });
        };
        /**
         * @param {?=} share
         * @return {?}
         */
        LinkedinLoginProvider.prototype.sharing = /**
         * @param {?=} share
         * @return {?}
         */
        function (share) {
            return new Promise(function (resolve, reject) {
                /** @type {?} */
                var payload = {
                    'comment': share ? share.comment : '',
                    'visibility': {
                        'code': 'anyone'
                    }
                };
                IN.API.Raw('/people/~/shares?format=json')
                    .method('POST')
                    .body(JSON.stringify(payload))
                    .result(function (data) {
                        console.log('linkedin share', data);
                        resolve();
                    })
                    .error(function (onError) {
                        console.log('linkedin', onError);
                    });
            });
        };
        LinkedinLoginProvider.PROVIDER_TYPE = 'linkedin';
        return LinkedinLoginProvider;
    }(BaseLoginProviderImpl));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SocialServiceConfig = (function () {
        function SocialServiceConfig(providers) {
            this.providers = new Map();
            if (providers) {
                for (var i = 0; i < providers.length; i++) {
                    /** @type {?} */
                    var element = providers[i];
                    this.providers.set(element.provider.TYPE, element.provider);
                }
            }
        }

        /**
         * @return {?}
         */
        SocialServiceConfig.prototype.getProviders = /**
         * @return {?}
         */
        function () {
            return this.providers;
        };
        /**
         * @param {?} provider
         * @return {?}
         */
        SocialServiceConfig.prototype.addProvider = /**
         * @param {?} provider
         * @return {?}
         */
        function (provider) {
            if (!this.providers.get(provider.TYPE)) {
                this.providers.set(provider.TYPE, provider);
            }
        };
        /**
         * @param {?} clientId
         * @return {?}
         */
        SocialServiceConfig.prototype.addFacebook = /**
         * @param {?} clientId
         * @return {?}
         */
        function (clientId) {
            this.addProvider(new FacebookLoginProvider(clientId));
            return this;
        };
        /**
         * @param {?} clientId
         * @return {?}
         */
        SocialServiceConfig.prototype.addGoogle = /**
         * @param {?} clientId
         * @return {?}
         */
        function (clientId) {
            this.addProvider(new GoogleLoginProvider(clientId));
            return this;
        };
        /**
         * @param {?} clientId
         * @return {?}
         */
        SocialServiceConfig.prototype.addLinkedIn = /**
         * @param {?} clientId
         * @return {?}
         */
        function (clientId) {
            this.addProvider(new LinkedinLoginProvider(clientId));
            return this;
        };
        return SocialServiceConfig;
    }());
    var SocialService = (function () {
        function SocialService(config) {
            var _this = this;
            this._user = null;
            this._authState = new rxjs.BehaviorSubject(null);
            this.providers = config.getProviders();
            this.providers.forEach(function (provider, key) {
                provider.initialize().then(function (user) {
                    user.provider = key;
                    _this._user = user;
                    _this._authState.next(user);
                }).catch(function (err) {
                    // this._authState.next(null);
                });
            });
        }

        Object.defineProperty(SocialService.prototype, "authState", {
            get: /**
             * @return {?}
             */ function () {
                return this._authState.asObservable();
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        SocialService.prototype.isSocialLoggedIn = /**
         * @return {?}
         */
        function () {
            return (this._user != null);
        };
        /**
         * @param {?} providerType
         * @param {?=} share
         * @return {?}
         */
        SocialService.prototype.sharing = /**
         * @param {?} providerType
         * @param {?=} share
         * @return {?}
         */
        function (providerType, share) {
            var _this = this;
            return new Promise(function (resolve, reject) {
                /** @type {?} */
                var providerObject = _this.providers.get(providerType);
                if (providerObject) {
                    providerObject.sharing(share).then(function () {
                        resolve(true);
                    });
                } else {
                    reject(SocialService.LOGIN_PROVIDER_NOT_FOUND);
                }
            });
        };
        /**
         * @param {?=} share
         * @return {?}
         */
        SocialService.prototype.facebookSharing = /**
         * @param {?=} share
         * @return {?}
         */
        function (share) {
            return this.sharing('facebook', share);
        };
        // linkedinSharing(share?: any) {
        //     return this.sharing('linkedin', share);
        // }
        /**
         * @param {?} providerType
         * @param {?=} scopes
         * @return {?}
         */
        SocialService.prototype.signIn = /**
         * @param {?} providerType
         * @param {?=} scopes
         * @return {?}
         */
        function (providerType, scopes) {
            var _this = this;
            return new Promise(function (resolve, reject) {
                /** @type {?} */
                var providerObject = _this.providers.get(providerType);
                if (providerObject) {
                    providerObject.signIn(scopes).then(function (user) {
                        user.provider = providerType;
                        resolve(user);
                        _this._user = user;
                        _this._authState.next(user);
                    }).catch(function (err) {
                        reject(SocialService.USER_POPUP_CLOSE);
                    });
                } else {
                    reject(SocialService.LOGIN_PROVIDER_NOT_FOUND);
                }
            });
        };
        /**
         * @return {?}
         */
        SocialService.prototype.signOut = /**
         * @return {?}
         */
        function () {
            var _this = this;
            return new Promise(function (resolve, reject) {
                if (_this._user && _this._user.provider) {
                    /** @type {?} */
                    var providerType = _this._user.provider;
                    /** @type {?} */
                    var providerObject = _this.providers.get(providerType);
                    providerObject.signOut().then(function () {
                        _this._user = null;
                        _this._authState.next(null);
                        resolve();
                    }).catch(function (err) {
                        _this._authState.next(null);
                    });
                } else {
                    reject(SocialService.LOGIN_PROVIDER_NOT_FOUND);
                }
            });
        };
        SocialService.LOGIN_PROVIDER_NOT_FOUND = 'Login provider not found';
        SocialService.USER_POPUP_CLOSE = 'User close the popup';
        SocialService.decorators = [
            {
                type: i0.Injectable, args: [{
                    providedIn: 'root'
                },]
            },
        ];
        /** @nocollapse */
        SocialService.ctorParameters = function () {
            return [
                {type: SocialServiceConfig}
            ];
        };
        /** @nocollapse */ SocialService.ngInjectableDef = i0.defineInjectable({
            factory: function SocialService_Factory() {
                return new SocialService(i0.inject(SocialServiceConfig));
            }, token: SocialService, providedIn: "root"
        });
        return SocialService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FacebookLoginButton = (function () {
        function FacebookLoginButton(socialAuthService) {
            this.socialAuthService = socialAuthService;
            this.socialUser = new i0.EventEmitter();
        }

        /**
         * @return {?}
         */
        FacebookLoginButton.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
        };
        /**
         * @return {?}
         */
        FacebookLoginButton.prototype.socialSignIn = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.socialAuthService.signIn('facebook', this.scopes).then(function (userData) {
                console.log("socialSignIn", userData);
                _this.socialUser.emit(userData);
            }).catch(function () {
                _this.socialUser.emit(null);
            });
        };
        FacebookLoginButton.decorators = [
            {
                type: i0.Component, args: [{
                    selector: 'facebook-login-button',
                    template: "\n      <button [className]=\"style == 'round' ? 'social-btn facebook ' : 'button btn-block loginBtn --facebook '\"\n              (click)=\"socialSignIn()\" type=\"button\">\n          {{style == 'round' ? '': text ? text : 'Login with Facebook'}}</button>\n  ",
                    styles: [".button{font-family:Lato,\"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn:focus{outline:0}.shareBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook:focus,.--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google{background:#dd4b39}.--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google:focus,.--google:hover{background:#e74b37}.--linkedin{background:#007bb6}.--linkedin:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin:focus,.--linkedin:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}"],
                },]
            },
        ];
        /** @nocollapse */
        FacebookLoginButton.ctorParameters = function () {
            return [
                {type: SocialService}
            ];
        };
        FacebookLoginButton.propDecorators = {
            size: [{type: i0.Input}],
            text: [{type: i0.Input}],
            style: [{type: i0.Input}],
            scopes: [{type: i0.Input}],
            socialUser: [{type: i0.Output}]
        };
        return FacebookLoginButton;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var GoogleLoginButton = (function () {
        function GoogleLoginButton(socialAuthService) {
            this.socialAuthService = socialAuthService;
            this.socialUser = new i0.EventEmitter();
        }

        /**
         * @return {?}
         */
        GoogleLoginButton.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
        };
        /**
         * @return {?}
         */
        GoogleLoginButton.prototype.socialSignIn = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.socialAuthService.signIn('google', this.scopes).then(function (userData) {
                _this.socialUser.emit(userData);
            }).catch(function () {
                _this.socialUser.emit(null);
            });
        };
        GoogleLoginButton.decorators = [
            {
                type: i0.Component, args: [{
                    selector: 'google-login-button',
                    template: "\n\t\t<button [className]=\"style == 'round' ? 'social-btn google' : 'button btn-block loginBtn --google'\"\n\t\t        (click)=\"socialSignIn()\" type=\"button\">\n\t\t\t{{style == 'round' ? '':  text ? text : 'Login with Google'}}\n\t\t</button>\n    ",
                    styles: [".button{font-family:Lato,\"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn:focus{outline:0}.shareBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook:focus,.--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google{background:#dd4b39}.--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google:focus,.--google:hover{background:#e74b37}.--linkedin{background:#007bb6}.--linkedin:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin:focus,.--linkedin:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}"],
                },]
            },
        ];
        /** @nocollapse */
        GoogleLoginButton.ctorParameters = function () {
            return [
                {type: SocialService}
            ];
        };
        GoogleLoginButton.propDecorators = {
            size: [{type: i0.Input}],
            style: [{type: i0.Input}],
            text: [{type: i0.Input}],
            scopes: [{type: i0.Input}],
            socialUser: [{type: i0.Output}]
        };
        return GoogleLoginButton;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LinkedinLoginButton = (function () {
        function LinkedinLoginButton(socialAuthService) {
            this.socialAuthService = socialAuthService;
            this.socialUser = new i0.EventEmitter();
        }

        /**
         * @return {?}
         */
        LinkedinLoginButton.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
        };
        /**
         * @return {?}
         */
        LinkedinLoginButton.prototype.socialSignIn = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.socialAuthService.signIn('linkedin', this.scopes).then(function (userData) {
                _this.socialUser.emit(userData);
            }).catch(function () {
                _this.socialUser.emit(null);
            });
        };
        LinkedinLoginButton.decorators = [
            {
                type: i0.Component, args: [{
                    selector: 'linkedin-login-button',
                    template: "\n\t\t<button [className]=\"style == 'round' ? 'social-btn linkedin' : 'button btn-block loginBtn --linkedin'\"\n\t\t        (click)=\"socialSignIn()\" type=\"button\">\n\t\t\t{{style == 'round' ? '':  text ? text : 'Login with LinkedIn'}}\n\t\t</button>\n    ",
                    styles: [".button{font-family:Lato,\"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn:focus{outline:0}.shareBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook:focus,.--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google{background:#dd4b39}.--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google:focus,.--google:hover{background:#e74b37}.--linkedin{background:#007bb6}.--linkedin:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin:focus,.--linkedin:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}"],
                },]
            },
        ];
        /** @nocollapse */
        LinkedinLoginButton.ctorParameters = function () {
            return [
                {type: SocialService}
            ];
        };
        LinkedinLoginButton.propDecorators = {
            size: [{type: i0.Input}],
            style: [{type: i0.Input}],
            text: [{type: i0.Input}],
            scopes: [{type: i0.Input}],
            socialUser: [{type: i0.Output}]
        };
        return LinkedinLoginButton;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FacebookSharingButton = (function () {
        function FacebookSharingButton(socialAuthService, document) {
            this.socialAuthService = socialAuthService;
            this.document = document;
            this.share = null;
            this.response = new i0.EventEmitter();
        }

        /**
         * @return {?}
         */
        FacebookSharingButton.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
        };
        /**
         * @return {?}
         */
        FacebookSharingButton.prototype.sharing = /**
         * @return {?}
         */
        function () {
            var _this = this;
            console.log(this.document.location.href);
            if (!this.share) {
                this.share = {href: this.document.location.href};
            } else if (!this.share.href) {
                this.share.href = this.document.location.href;
            }
            this.socialAuthService.facebookSharing(this.share).then(function () {
                _this.response.emit(true);
            }).catch(function (err) {
                _this.response.emit(false);
            });
        };
        FacebookSharingButton.decorators = [
            {
                type: i0.Component, args: [{
                    selector: 'facebook-share-button',
                    template: "\n      <button class=\"button btn-block loginBtn --facebook\" \n              (click)=\"sharing()\" type=\"button\">Share</button>\n  ",
                    styles: [".button{font-family:Lato,\"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Sans-Serif;-webkit-appearance:none;display:inline-block;outline:0;border-radius:3px;border:3px solid transparent;cursor:pointer;text-overflow:ellipsis;text-decoration:none!important;font-weight:400!important}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.loginBtn:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.shareBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:3px;font-size:16px;color:#fff}.shareBtn:before{content:\"\";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.shareBtn:focus{outline:0}.shareBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.--facebook:focus,.--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.--google{background:#dd4b39}.--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.--google:focus,.--google:hover{background:#e74b37}.--linkedin{background:#007bb6}.--linkedin:before{border-right:1px solid #007bb6;background:url(https://content.linkedin.com/content/dam/developer/global/en_US/site/img/signin-button.png) -3px -3px no-repeat}.--linkedin:focus,.--linkedin:hover{background:linear-gradient(#007bb6,#4864b1)}.social-btn{width:50px;height:50px;background-size:cover;background-repeat:no-repeat;cursor:pointer;border-radius:10px;border:none}.social-btn.facebook{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/facebook.png)}.social-btn.google{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/google.png)}.social-btn.linkedin{background-image:url(https://raw.githubusercontent.com/JohnnieLi/ngx-social-button/master/assets/LinkedIn.png)}.social-btn.wechat{background-image:url(https://github.com/JohnnieLi/ngx-social-button/blob/master/assets/wechat.png?raw=true)}"],
                },]
            },
        ];
        /** @nocollapse */
        FacebookSharingButton.ctorParameters = function () {
            return [
                {type: SocialService},
                {type: undefined, decorators: [{type: i0.Inject, args: [common.DOCUMENT,]}]}
            ];
        };
        FacebookSharingButton.propDecorators = {
            share: [{type: i0.Input}],
            response: [{type: i0.Output}]
        };
        return FacebookSharingButton;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LinkedinSharingButton = (function () {
        function LinkedinSharingButton(socialAuthService, document) {
            this.socialAuthService = socialAuthService;
            this.document = document;
            this.share = {href: location.href};
            this.response = new i0.EventEmitter();
        }

        /**
         * @return {?}
         */
        LinkedinSharingButton.prototype.ngAfterViewInit = /**
         * @return {?}
         */
        function () {
            // add linkedin share button script tag to element
            this.element.nativeElement.innerHTML = "<script type=\"IN/Share\" data-url=\"" + this.share.href + "\"></script>";
            // render share button
            // window['IN'] && window['IN'].parse();
        };
        LinkedinSharingButton.decorators = [
            {
                type: i0.Component, args: [{
                    selector: 'linkedin-share-button',
                    template: "\n        <span #element></span>\n    ",
                },]
            },
        ];
        /** @nocollapse */
        LinkedinSharingButton.ctorParameters = function () {
            return [
                {type: SocialService},
                {type: undefined, decorators: [{type: i0.Inject, args: [common.DOCUMENT,]}]}
            ];
        };
        LinkedinSharingButton.propDecorators = {
            share: [{type: i0.Input}],
            response: [{type: i0.Output}],
            element: [{type: i0.ViewChild, args: ['element',]}]
        };
        return LinkedinSharingButton;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NgxSocialButtonModule = (function () {
        function NgxSocialButtonModule() {
        }

        NgxSocialButtonModule.decorators = [
            {
                type: i0.NgModule, args: [{
                    imports: [],
                    declarations: [FacebookLoginButton, GoogleLoginButton,
                        FacebookSharingButton, LinkedinLoginButton,
                        LinkedinSharingButton],
                    exports: [FacebookLoginButton, GoogleLoginButton,
                        FacebookSharingButton, LinkedinLoginButton,
                        LinkedinSharingButton]
                },]
            },
        ];
        return NgxSocialButtonModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    exports.SocialServiceConfig = SocialServiceConfig;
    exports.SocialService = SocialService;
    exports.FacebookLoginProvider = FacebookLoginProvider;
    exports.GoogleLoginProvider = GoogleLoginProvider;
    exports.FacebookLoginButton = FacebookLoginButton;
    exports.GoogleLoginButton = GoogleLoginButton;
    exports.LinkedinLoginButton = LinkedinLoginButton;
    exports.FacebookSharingButton = FacebookSharingButton;
    exports.NgxSocialButtonModule = NgxSocialButtonModule;
    exports.ɵb = LinkedinSharingButton;
    exports.ɵa = BaseLoginProviderImpl;

    Object.defineProperty(exports, '__esModule', {value: true});

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNvY2lhbC1idXR0b24udW1kLmpzLm1hcCIsInNvdXJjZXMiOltudWxsLCJuZzovL25neC1zb2NpYWwtYnV0dG9uL2xpYi9lbnRpdGllcy9iYXNlTG9naW5Qcm92aWRlckltcGwudHMiLCJuZzovL25neC1zb2NpYWwtYnV0dG9uL2xpYi9lbnRpdGllcy91c2VyLnRzIiwibmc6Ly9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvcHJvdmlkZXJzL2ZhY2Vib29rUHJvdmlkZXIudHMiLCJuZzovL25neC1zb2NpYWwtYnV0dG9uL2xpYi9wcm92aWRlcnMvZ29vZ2xlUHJvdmlkZXIudHMiLCJuZzovL25neC1zb2NpYWwtYnV0dG9uL2xpYi9wcm92aWRlcnMvbGlua2VkaW5Qcm92aWRlci50cyIsIm5nOi8vbmd4LXNvY2lhbC1idXR0b24vbGliL3NvY2lhbC5zZXJ2aWNlLnRzIiwibmc6Ly9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvYnV0dG9ucy9mYWNlYm9va0xvZ2luQnV0dG9uLnRzIiwibmc6Ly9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvYnV0dG9ucy9nb29nbGVMb2dpbkJ1dHRvbi50cyIsIm5nOi8vbmd4LXNvY2lhbC1idXR0b24vbGliL2J1dHRvbnMvbGlua2VkaW5Mb2dpbkJ1dHRvbi50cyIsIm5nOi8vbmd4LXNvY2lhbC1idXR0b24vbGliL2J1dHRvbnMvZmFjZWJvb2tTaGFyaW5nQnV0dG9uLnRzIiwibmc6Ly9uZ3gtc29jaWFsLWJ1dHRvbi9saWIvYnV0dG9ucy9saW5rZWRpblNoYXJpbmdCdXR0b24udHMiLCJuZzovL25neC1zb2NpYWwtYnV0dG9uL2xpYi9uZ3gtc29jaWFsLWJ1dHRvbi5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBMb2dpblByb3ZpZGVyIH0gZnJvbSAnLi9sb2dpblByb3ZpZGVyJztcbmltcG9ydCB7IFNvY2lhbFVzZXIsIExvZ2luUHJvdmlkZXJDbGFzcyB9IGZyb20gJy4vdXNlcic7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlTG9naW5Qcm92aWRlckltcGwgaW1wbGVtZW50cyBMb2dpblByb3ZpZGVyIHtcblxuXG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gIGFic3RyYWN0IGluaXRpYWxpemUoKTogUHJvbWlzZTxTb2NpYWxVc2VyPjtcbiAgYWJzdHJhY3Qgc2lnbkluKHNjb3Blcz86W3N0cmluZ10pOiBQcm9taXNlPFNvY2lhbFVzZXI+O1xuICBhYnN0cmFjdCBzaWduT3V0KCk6IFByb21pc2U8YW55PjtcbiAgYWJzdHJhY3Qgc2hhcmluZyhzaGFyZT86YW55KTpQcm9taXNlPGFueT47XG4gIGFic3RyYWN0IFRZUEU6IHN0cmluZztcblxuICBsb2FkU2NyaXB0KG9iajogTG9naW5Qcm92aWRlckNsYXNzLCBvbmxvYWQ6IGFueSk6IHZvaWQge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvYmoubmFtZSkpIHsgcmV0dXJuOyB9XG4gICAgbGV0IHNpZ25JbkpTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2lnbkluSlMuYXN5bmMgPSB0cnVlO1xuICAgIHNpZ25JbkpTLnNyYyA9IG9iai51cmw7XG4gICAgc2lnbkluSlMub25sb2FkID0gb25sb2FkO1xuICAgIGlmIChvYmoubmFtZSA9PT0gJ2xpbmtlZGluJykge1xuICAgICAgc2lnbkluSlMuYXN5bmMgPSBmYWxzZTtcbiAgICAgIHNpZ25JbkpTLnRleHQgPSAoJ2FwaV9rZXk6ICcgKyBvYmouaWQpLnJlcGxhY2UoJ1xcJycsICcnKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzaWduSW5KUyk7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgU29jaWFsVXNlciB7XG4gICAgcHJvdmlkZXI6IHN0cmluZztcbiAgICBpZDogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGltYWdlOiBzdHJpbmc7XG4gICAgYWNjZXNzVG9rZW4/OiBzdHJpbmc7XG4gICAgaWRUb2tlbj86IHN0cmluZ1xuICB9XG4gIFxuICBleHBvcnQgY2xhc3MgTG9naW5Qcm92aWRlckNsYXNzIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgICB1cmw6IHN0cmluZztcbiAgfVxuICBcbiAgZXhwb3J0IGNsYXNzIExpbmtlZEluUmVzcG9uc2Uge1xuICAgIGVtYWlsQWRkcmVzczogc3RyaW5nO1xuICAgIGZpcnN0TmFtZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbGFzdE5hbWU6IHN0cmluZztcbiAgICBwaWN0dXJlVXJsOiBzdHJpbmc7XG4gIH1cbiIsImltcG9ydCB7IEJhc2VMb2dpblByb3ZpZGVySW1wbCB9IGZyb20gJy4uL2VudGl0aWVzL2Jhc2VMb2dpblByb3ZpZGVySW1wbCc7XG5pbXBvcnQgeyBTb2NpYWxVc2VyLCBMb2dpblByb3ZpZGVyQ2xhc3MgfSBmcm9tICcuLi9lbnRpdGllcy91c2VyJztcblxuZGVjbGFyZSBsZXQgRkI6IGFueTtcblxuZXhwb3J0IGNsYXNzIEZhY2Vib29rTG9naW5Qcm92aWRlciBleHRlbmRzIEJhc2VMb2dpblByb3ZpZGVySW1wbCB7XG5cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBQUk9WSURFUl9UWVBFID0gJ2ZhY2Vib29rJztcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBTQ09QRVMgPSB7XG4gICAgRU1BSUwgOiAnZW1haWwnLFxuICAgIFBVQkxJQ19QUk9GSUxFOiAncHVibGljX3Byb2ZpbGUnXG4gIH07XG5cbiAgcHVibGljIFRZUEUgPSAnZmFjZWJvb2snO1xuICBwdWJsaWMgbG9naW5Qcm92aWRlck9iajogTG9naW5Qcm92aWRlckNsYXNzID0gbmV3IExvZ2luUHJvdmlkZXJDbGFzcygpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY2xpZW50SWQ6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5sb2dpblByb3ZpZGVyT2JqLmlkID0gY2xpZW50SWQ7XG4gICAgdGhpcy5sb2dpblByb3ZpZGVyT2JqLm5hbWUgPSAnZmFjZWJvb2snO1xuICAgIHRoaXMubG9naW5Qcm92aWRlck9iai51cmwgPSAnaHR0cHM6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanMnO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPFNvY2lhbFVzZXI+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5sb2FkU2NyaXB0KHRoaXMubG9naW5Qcm92aWRlck9iaiwgKCkgPT4ge1xuICAgICAgICAgIEZCLmluaXQoe1xuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICBhdXRvTG9nQXBwRXZlbnRzOiB0cnVlLFxuICAgICAgICAgICAgY29va2llOiB0cnVlLFxuICAgICAgICAgICAgeGZibWw6IHRydWUsXG4gICAgICAgICAgICB2ZXJzaW9uOiAndjIuOCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBGQi5BcHBFdmVudHMubG9nUGFnZVZpZXcoKTtcblxuICAgICAgICAgIEZCLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uIChyZXNwb25zZTogYW55KSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IEZCLmdldEF1dGhSZXNwb25zZSgpWydhY2Nlc3NUb2tlbiddO1xuICAgICAgICAgICAgICBGQi5hcGkoJy9tZT9maWVsZHM9bmFtZSxlbWFpbCxwaWN0dXJlJywgKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShGYWNlYm9va0xvZ2luUHJvdmlkZXIuZHJhd1VzZXIoT2JqZWN0LmFzc2lnbih7fSwge3Rva2VuOiBhY2Nlc3NUb2tlbn0sIHJlcykpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGRyYXdVc2VyKHJlc3BvbnNlOiBhbnkpOiBTb2NpYWxVc2VyIHtcbiAgICBsZXQgdXNlcjogU29jaWFsVXNlciA9IG5ldyBTb2NpYWxVc2VyKCk7XG4gICAgdXNlci5pZCA9IHJlc3BvbnNlLmlkO1xuICAgIHVzZXIubmFtZSA9IHJlc3BvbnNlLm5hbWU7XG4gICAgdXNlci5lbWFpbCA9IHJlc3BvbnNlLmVtYWlsO1xuICAgIHVzZXIuYWNjZXNzVG9rZW4gPSByZXNwb25zZS5hY2Nlc3NUb2tlbjtcbiAgICB1c2VyLmltYWdlID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyByZXNwb25zZS5pZCArICcvcGljdHVyZT90eXBlPW5vcm1hbCc7XG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cblxuXG4gIHNpZ25JbihzY29wZXM/OltzdHJpbmddKTogUHJvbWlzZTxTb2NpYWxVc2VyPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIEZCLmxvZ2luKChyZXNwb25zZTogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmFjZWJvb2tcIiwgcmVzcG9uc2UpO1xuICAgICAgICBpZiAocmVzcG9uc2UuYXV0aFJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBGQi5nZXRBdXRoUmVzcG9uc2UoKVsnYWNjZXNzVG9rZW4nXTtcbiAgICAgICAgICBGQi5hcGkoJy9tZT9maWVsZHM9bmFtZSxlbWFpbCxwaWN0dXJlJywgKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1lXCIsIHJlcyk7XG4gICAgICAgICAgICByZXNvbHZlKEZhY2Vib29rTG9naW5Qcm92aWRlci5kcmF3VXNlcihPYmplY3QuYXNzaWduKHt9LCB7YWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VufSwgcmVzKSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7IHNjb3BlOiBzY29wZXMgJiYgc2NvcGVzLmxlbmd0aCA+IDAgPyBzY29wZXMuam9pbignLCcpIDogJ2VtYWlsLHB1YmxpY19wcm9maWxlJyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNoYXJpbmcoc2hhcmU/OmFueSk6IFByb21pc2U8YW55PntcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBGQi51aSh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnc2hhcmUnLFxuICAgICAgICAgICAgICAgIGhyZWY6IHNoYXJlLmhyZWYsXG4gICAgICAgICAgICAgICAgaGFzaHRhZzogKHNoYXJlLmhhc2h0YWcgJiYgc2hhcmUuaGFzaHRhZy5pbmRleE9mKCcjJyk+PTApP3NoYXJlLmhhc2h0YWcgOiAgbnVsbFxuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cbiAgc2lnbk91dCgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBGQi5sb2dvdXQoKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxufSIsImltcG9ydCB7QmFzZUxvZ2luUHJvdmlkZXJJbXBsfSBmcm9tICcuLi9lbnRpdGllcy9iYXNlTG9naW5Qcm92aWRlckltcGwnO1xuaW1wb3J0IHtMb2dpblByb3ZpZGVyQ2xhc3MsIFNvY2lhbFVzZXJ9IGZyb20gJy4uL2VudGl0aWVzL3VzZXInO1xuXG5kZWNsYXJlIGxldCBnYXBpOiBhbnk7XG5cbmV4cG9ydCBjbGFzcyBHb29nbGVMb2dpblByb3ZpZGVyIGV4dGVuZHMgQmFzZUxvZ2luUHJvdmlkZXJJbXBsIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfVFlQRSA9ICdnb29nbGUnO1xuICAgIHB1YmxpYyBsb2dpblByb3ZpZGVyT2JqOiBMb2dpblByb3ZpZGVyQ2xhc3MgPSBuZXcgTG9naW5Qcm92aWRlckNsYXNzKCk7XG4gICAgcHJpdmF0ZSBhdXRoMjogYW55O1xuICAgIHB1YmxpYyBUWVBFID0gJ2dvb2dsZSc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNsaWVudElkOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sb2dpblByb3ZpZGVyT2JqLmlkID0gY2xpZW50SWQ7XG4gICAgICAgIHRoaXMubG9naW5Qcm92aWRlck9iai5uYW1lID0gJ2dvb2dsZSc7XG4gICAgICAgIHRoaXMubG9naW5Qcm92aWRlck9iai51cmwgPSAnaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvcGxhdGZvcm0uanMnO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoKTogUHJvbWlzZTxTb2NpYWxVc2VyPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvYWRTY3JpcHQodGhpcy5sb2dpblByb3ZpZGVyT2JqLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZ2FwaS5sb2FkKCdhdXRoMicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoMiA9IGdhcGkuYXV0aDIuaW5pdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfaWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogJ2VtYWlsJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGgyLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXV0aDIuaXNTaWduZWRJbi5nZXQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5kcmF3VXNlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZHJhd1VzZXIoKTogU29jaWFsVXNlciB7XG4gICAgICAgIGNvbnN0IHVzZXI6IFNvY2lhbFVzZXIgPSBuZXcgU29jaWFsVXNlcigpO1xuICAgICAgICBjb25zdCBwcm9maWxlID0gdGhpcy5hdXRoMi5jdXJyZW50VXNlci5nZXQoKS5nZXRCYXNpY1Byb2ZpbGUoKTtcbiAgICAgICAgY29uc3QgYXV0aFJlc3BvbnNlT2JqID0gdGhpcy5hdXRoMi5jdXJyZW50VXNlci5nZXQoKS5nZXRBdXRoUmVzcG9uc2UodHJ1ZSk7XG4gICAgICAgIHVzZXIuaWQgPSBwcm9maWxlLmdldElkKCk7XG4gICAgICAgIHVzZXIubmFtZSA9IHByb2ZpbGUuZ2V0TmFtZSgpO1xuICAgICAgICB1c2VyLmVtYWlsID0gcHJvZmlsZS5nZXRFbWFpbCgpO1xuICAgICAgICB1c2VyLmltYWdlID0gcHJvZmlsZS5nZXRJbWFnZVVybCgpO1xuICAgICAgICB1c2VyLmFjY2Vzc1Rva2VuID0gYXV0aFJlc3BvbnNlT2JqLmFjY2Vzc190b2tlbjtcbiAgICAgICAgdXNlci5pZFRva2VuID0gYXV0aFJlc3BvbnNlT2JqLmlkX3Rva2VuO1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICB9XG5cbiAgICBzaWduSW4oc2NvcGVzPzogW3N0cmluZ10pOiBQcm9taXNlPFNvY2lhbFVzZXI+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLmF1dGgyLnNpZ25JbigpO1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZHJhd1VzZXIoKSk7XG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2lnbk91dCgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hdXRoMi5zaWduT3V0KCkudGhlbigoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hhcmluZyhzaGFyZT86IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U29jaWFsVXNlciwgTG9naW5Qcm92aWRlckNsYXNzLCBMaW5rZWRJblJlc3BvbnNlfSBmcm9tICcuLi9lbnRpdGllcy91c2VyJztcbmltcG9ydCB7QmFzZUxvZ2luUHJvdmlkZXJJbXBsfSBmcm9tICcuLi9lbnRpdGllcy9iYXNlTG9naW5Qcm92aWRlckltcGwnO1xuXG5kZWNsYXJlIGxldCBJTjogYW55O1xuXG5leHBvcnQgY2xhc3MgTGlua2VkaW5Mb2dpblByb3ZpZGVyIGV4dGVuZHMgQmFzZUxvZ2luUHJvdmlkZXJJbXBsIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfVFlQRSA9ICdsaW5rZWRpbic7XG4gICAgcHVibGljIGxvZ2luUHJvdmlkZXJPYmo6IExvZ2luUHJvdmlkZXJDbGFzcyA9IG5ldyBMb2dpblByb3ZpZGVyQ2xhc3MoKTtcbiAgICBUWVBFID0gJ2xpbmtlZGluJztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2xpZW50SWQ6IHN0cmluZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxvZ2luUHJvdmlkZXJPYmouaWQgPSBjbGllbnRJZDtcbiAgICAgICAgdGhpcy5sb2dpblByb3ZpZGVyT2JqLm5hbWUgPSAnbGlua2VkaW4nO1xuICAgICAgICB0aGlzLmxvZ2luUHJvdmlkZXJPYmoudXJsID0gJ2h0dHBzOi8vcGxhdGZvcm0ubGlua2VkaW4uY29tL2luLmpzJztcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKCk6IFByb21pc2U8U29jaWFsVXNlcj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2FkU2NyaXB0KHRoaXMubG9naW5Qcm92aWRlck9iaiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIElOLmluaXQoe1xuICAgICAgICAgICAgICAgICAgICBhcGlfa2V5OiB0aGlzLmNsaWVudElkLFxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG9uTG9hZDogdGhpcy5vbkxpbmtlZEluTG9hZCgpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBJTi5FdmVudC5vbihJTiwgJ2F1dGgnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChJTi5Vc2VyLmlzQXV0aG9yaXplZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJTi5BUEkuUmF3KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcvcGVvcGxlL346KGlkLGZpcnN0LW5hbWUsbGFzdC1uYW1lLGVtYWlsLWFkZHJlc3MscGljdHVyZS11cmwpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKS5yZXN1bHQoKHJlczogTGlua2VkSW5SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5kcmF3VXNlcihyZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkxpbmtlZEluTG9hZCgpIHtcbiAgICAgICAgSU4uRXZlbnQub24oSU4sICdzeXN0ZW1SZWFkeScsICgpID0+IHtcbiAgICAgICAgICAgIElOLlVzZXIucmVmcmVzaCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkcmF3VXNlcihyZXNwb25zZTogTGlua2VkSW5SZXNwb25zZSk6IFNvY2lhbFVzZXIge1xuXG4gICAgICAgIGNvbnN0IHVzZXI6IFNvY2lhbFVzZXIgPSBuZXcgU29jaWFsVXNlcigpO1xuICAgICAgICB1c2VyLmlkID0gcmVzcG9uc2UuaWQ7XG4gICAgICAgIHVzZXIubmFtZSA9IHJlc3BvbnNlLmZpcnN0TmFtZSArICcgJyArIHJlc3BvbnNlLmxhc3ROYW1lO1xuICAgICAgICB1c2VyLmVtYWlsID0gcmVzcG9uc2UuZW1haWxBZGRyZXNzO1xuICAgICAgICB1c2VyLmltYWdlID0gcmVzcG9uc2UucGljdHVyZVVybDtcbiAgICAgICAgdXNlci5hY2Nlc3NUb2tlbiA9IElOLkVOVi5hdXRoLm9hdXRoX3Rva2VuO1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICB9XG5cbiAgICBzaWduSW4oKTogUHJvbWlzZTxTb2NpYWxVc2VyPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBJTi5Vc2VyLmF1dGhvcml6ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgSU4uQVBJLlJhdygnL3Blb3BsZS9+OihpZCxmaXJzdC1uYW1lLGxhc3QtbmFtZSxlbWFpbC1hZGRyZXNzLHBpY3R1cmUtdXJsKScpLnJlc3VsdCgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsaW5rZWRpbicsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5kcmF3VXNlcihyZXMpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaWduT3V0KCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBJTi5Vc2VyLmxvZ291dCgocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sIChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgc2hhcmluZyhzaGFyZT86IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgICdjb21tZW50Jzogc2hhcmUgPyBzaGFyZS5jb21tZW50IDogJycsXG4gICAgICAgICAgICAgICAgJ3Zpc2liaWxpdHknOiB7XG4gICAgICAgICAgICAgICAgICAgICdjb2RlJzogJ2FueW9uZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgSU4uQVBJLlJhdygnL3Blb3BsZS9+L3NoYXJlcz9mb3JtYXQ9anNvbicpXG4gICAgICAgICAgICAgICAgLm1ldGhvZCgnUE9TVCcpXG4gICAgICAgICAgICAgICAgLmJvZHkoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpXG4gICAgICAgICAgICAgICAgLnJlc3VsdChkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xpbmtlZGluIHNoYXJlJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5lcnJvcihvbkVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xpbmtlZGluJywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHtCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQge0xvZ2luUHJvdmlkZXJ9IGZyb20gJy4vZW50aXRpZXMvbG9naW5Qcm92aWRlcic7XG5pbXBvcnQge0ZhY2Vib29rTG9naW5Qcm92aWRlcn0gZnJvbSAnLi9wcm92aWRlcnMvZmFjZWJvb2tQcm92aWRlcic7XG5pbXBvcnQge0dvb2dsZUxvZ2luUHJvdmlkZXJ9IGZyb20gJy4vcHJvdmlkZXJzL2dvb2dsZVByb3ZpZGVyJztcbmltcG9ydCB7TGlua2VkaW5Mb2dpblByb3ZpZGVyfSBmcm9tICcuL3Byb3ZpZGVycy9saW5rZWRpblByb3ZpZGVyJztcblxuaW1wb3J0IHtTb2NpYWxVc2VyfSBmcm9tICcuL2VudGl0aWVzL3VzZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNvY2lhbFNlcnZpY2VDb25maWdJdGVtIHtcbiAgICBwcm92aWRlcjogTG9naW5Qcm92aWRlcjtcbn1cblxuXG5leHBvcnQgY2xhc3MgU29jaWFsU2VydmljZUNvbmZpZyB7XG4gICAgcHJpdmF0ZSBwcm92aWRlcnM6IE1hcDxzdHJpbmcsIExvZ2luUHJvdmlkZXI+ID0gbmV3IE1hcDxzdHJpbmcsIExvZ2luUHJvdmlkZXI+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm92aWRlcnM/OiBTb2NpYWxTZXJ2aWNlQ29uZmlnSXRlbVtdKSB7XG4gICAgICAgIGlmIChwcm92aWRlcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHByb3ZpZGVyc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3ZpZGVycy5zZXQoZWxlbWVudC5wcm92aWRlci5UWVBFLCBlbGVtZW50LnByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFByb3ZpZGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkUHJvdmlkZXIocHJvdmlkZXI6IExvZ2luUHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3ZpZGVycy5nZXQocHJvdmlkZXIuVFlQRSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJzLnNldChwcm92aWRlci5UWVBFLCBwcm92aWRlcik7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGFkZEZhY2Vib29rKGNsaWVudElkOiBzdHJpbmcpOiBTb2NpYWxTZXJ2aWNlQ29uZmlnIHtcbiAgICAgICAgdGhpcy5hZGRQcm92aWRlcihuZXcgRmFjZWJvb2tMb2dpblByb3ZpZGVyKGNsaWVudElkKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZEdvb2dsZShjbGllbnRJZDogc3RyaW5nKTogU29jaWFsU2VydmljZUNvbmZpZyB7XG4gICAgICAgIHRoaXMuYWRkUHJvdmlkZXIobmV3IEdvb2dsZUxvZ2luUHJvdmlkZXIoY2xpZW50SWQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYWRkTGlua2VkSW4oY2xpZW50SWQ6IHN0cmluZyk6IFNvY2lhbFNlcnZpY2VDb25maWcge1xuICAgICAgICB0aGlzLmFkZFByb3ZpZGVyKG5ldyBMaW5rZWRpbkxvZ2luUHJvdmlkZXIoY2xpZW50SWQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59XG5cbkBJbmplY3RhYmxlKHtcbiAgICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgU29jaWFsU2VydmljZSB7XG5cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBMT0dJTl9QUk9WSURFUl9OT1RfRk9VTkQgPSAnTG9naW4gcHJvdmlkZXIgbm90IGZvdW5kJztcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBVU0VSX1BPUFVQX0NMT1NFID0gJ1VzZXIgY2xvc2UgdGhlIHBvcHVwJztcblxuICAgIHByaXZhdGUgcHJvdmlkZXJzOiBNYXA8c3RyaW5nLCBMb2dpblByb3ZpZGVyPjtcblxuICAgIHByaXZhdGUgX3VzZXI6IFNvY2lhbFVzZXIgPSBudWxsO1xuICAgIHByaXZhdGUgX2F1dGhTdGF0ZTogQmVoYXZpb3JTdWJqZWN0PFNvY2lhbFVzZXI+ID0gbmV3IEJlaGF2aW9yU3ViamVjdChudWxsKTtcblxuICAgIGdldCBhdXRoU3RhdGUoKTogT2JzZXJ2YWJsZTxTb2NpYWxVc2VyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRoU3RhdGUuYXNPYnNlcnZhYmxlKCk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBTb2NpYWxTZXJ2aWNlQ29uZmlnKSB7XG4gICAgICAgIHRoaXMucHJvdmlkZXJzID0gY29uZmlnLmdldFByb3ZpZGVycygpO1xuICAgICAgICB0aGlzLnByb3ZpZGVycy5mb3JFYWNoKChwcm92aWRlcjogTG9naW5Qcm92aWRlciwga2V5OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHByb3ZpZGVyLmluaXRpYWxpemUoKS50aGVuKCh1c2VyOiBTb2NpYWxVc2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgdXNlci5wcm92aWRlciA9IGtleTtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VyID0gdXNlcjtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRoU3RhdGUubmV4dCh1c2VyKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLl9hdXRoU3RhdGUubmV4dChudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpc1NvY2lhbExvZ2dlZEluKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VzZXIgIT0gbnVsbCk7XG4gICAgfVxuXG5cbiAgICBzaGFyaW5nKHByb3ZpZGVyVHlwZTogc3RyaW5nLCBzaGFyZT86IGFueSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHByb3ZpZGVyT2JqZWN0ID0gdGhpcy5wcm92aWRlcnMuZ2V0KHByb3ZpZGVyVHlwZSk7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXJPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlck9iamVjdC5zaGFyaW5nKHNoYXJlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFNvY2lhbFNlcnZpY2UuTE9HSU5fUFJPVklERVJfTk9UX0ZPVU5EKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmFjZWJvb2tTaGFyaW5nKHNoYXJlPzogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYXJpbmcoJ2ZhY2Vib29rJywgc2hhcmUpO1xuICAgIH1cblxuICAgIC8vIGxpbmtlZGluU2hhcmluZyhzaGFyZT86IGFueSkge1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5zaGFyaW5nKCdsaW5rZWRpbicsIHNoYXJlKTtcbiAgICAvLyB9XG5cbiAgICBzaWduSW4ocHJvdmlkZXJUeXBlOiBzdHJpbmcsIHNjb3Blcz86IFtzdHJpbmddKTogUHJvbWlzZTxTb2NpYWxVc2VyPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcHJvdmlkZXJPYmplY3QgPSB0aGlzLnByb3ZpZGVycy5nZXQocHJvdmlkZXJUeXBlKTtcbiAgICAgICAgICAgIGlmIChwcm92aWRlck9iamVjdCkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyT2JqZWN0LnNpZ25JbihzY29wZXMpLnRoZW4oKHVzZXI6IFNvY2lhbFVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlci5wcm92aWRlciA9IHByb3ZpZGVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1c2VyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXNlciA9IHVzZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1dGhTdGF0ZS5uZXh0KHVzZXIpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFNvY2lhbFNlcnZpY2UuVVNFUl9QT1BVUF9DTE9TRSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChTb2NpYWxTZXJ2aWNlLkxPR0lOX1BST1ZJREVSX05PVF9GT1VORCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNpZ25PdXQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl91c2VyICYmIHRoaXMuX3VzZXIucHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvdmlkZXJUeXBlID0gdGhpcy5fdXNlci5wcm92aWRlcjtcbiAgICAgICAgICAgICAgICBsZXQgcHJvdmlkZXJPYmplY3QgPSB0aGlzLnByb3ZpZGVycy5nZXQocHJvdmlkZXJUeXBlKTtcbiAgICAgICAgICAgICAgICBwcm92aWRlck9iamVjdC5zaWduT3V0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRoU3RhdGUubmV4dChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXV0aFN0YXRlLm5leHQobnVsbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChTb2NpYWxTZXJ2aWNlLkxPR0lOX1BST1ZJREVSX05PVF9GT1VORCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlcn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1NvY2lhbFNlcnZpY2V9IGZyb20gJy4uL3NvY2lhbC5zZXJ2aWNlJztcbmltcG9ydCB7IFNvY2lhbFVzZXIgfSBmcm9tICcuLi9lbnRpdGllcyc7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdmYWNlYm9vay1sb2dpbi1idXR0b24nLFxuICB0ZW1wbGF0ZTogYFxuICAgICAgPGJ1dHRvbiBbY2xhc3NOYW1lXT1cInN0eWxlID09ICdyb3VuZCcgPyAnc29jaWFsLWJ0biBmYWNlYm9vayAnIDogJ2J1dHRvbiBidG4tYmxvY2sgbG9naW5CdG4gLS1mYWNlYm9vayAnXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInNvY2lhbFNpZ25JbigpXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIHt7c3R5bGUgPT0gJ3JvdW5kJyA/ICcnOiB0ZXh0ID8gdGV4dCA6ICdMb2dpbiB3aXRoIEZhY2Vib29rJ319PC9idXR0b24+XG4gIGAsXG4gICAgc3R5bGVzOiBbYC5idXR0b257Zm9udC1mYW1pbHk6TGF0byxcIkx1Y2lkYSBHcmFuZGVcIixcIkx1Y2lkYSBTYW5zIFVuaWNvZGVcIixUYWhvbWEsU2Fucy1TZXJpZjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jaztvdXRsaW5lOjA7Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOjNweCBzb2xpZCB0cmFuc3BhcmVudDtjdXJzb3I6cG9pbnRlcjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudDtmb250LXdlaWdodDo0MDAhaW1wb3J0YW50fS5sb2dpbkJ0bntib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOi4yZW07cGFkZGluZzowIDE1cHggMCA0NnB4O2JvcmRlcjpub25lO3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDozNHB4O3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTZweDtjb2xvcjojZmZmfS5sb2dpbkJ0bjpiZWZvcmV7Y29udGVudDpcIlwiO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MzRweDtoZWlnaHQ6MTAwJX0ubG9naW5CdG46Zm9jdXN7b3V0bGluZTowfS5sb2dpbkJ0bjphY3RpdmV7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAzMnB4IHJnYmEoMCwwLDAsLjEpfS5zaGFyZUJ0bntib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOi4yZW07cGFkZGluZzowIDE1cHggMCA0NnB4O2JvcmRlcjpub25lO3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDozNHB4O3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTZweDtjb2xvcjojZmZmfS5zaGFyZUJ0bjpiZWZvcmV7Y29udGVudDpcIlwiO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MzRweDtoZWlnaHQ6MTAwJX0uc2hhcmVCdG46Zm9jdXN7b3V0bGluZTowfS5zaGFyZUJ0bjphY3RpdmV7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAzMnB4IHJnYmEoMCwwLDAsLjEpfS4tLWZhY2Vib29re2JhY2tncm91bmQtY29sb3I6IzRjNjliYTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgjNGM2OWJhLCMzYjU1YTApO3RleHQtc2hhZG93OjAgLTFweCAwICMzNTRjOGN9Li0tZmFjZWJvb2s6YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgIzM2NGU5MjtiYWNrZ3JvdW5kOnVybChodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xNDA4Mi9pY29uX2ZhY2Vib29rLnBuZykgNnB4IDZweCBuby1yZXBlYXR9Li0tZmFjZWJvb2s6Zm9jdXMsLi0tZmFjZWJvb2s6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojNWI3YmQ1O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KCM1YjdiZDUsIzQ4NjRiMSl9Li0tZ29vZ2xle2JhY2tncm91bmQ6I2RkNGIzOX0uLS1nb29nbGU6YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgI2JiM2YzMDtiYWNrZ3JvdW5kOnVybChodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xNDA4Mi9pY29uX2dvb2dsZS5wbmcpIDZweCA2cHggbm8tcmVwZWF0fS4tLWdvb2dsZTpmb2N1cywuLS1nb29nbGU6aG92ZXJ7YmFja2dyb3VuZDojZTc0YjM3fS4tLWxpbmtlZGlue2JhY2tncm91bmQ6IzAwN2JiNn0uLS1saW5rZWRpbjpiZWZvcmV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMDA3YmI2O2JhY2tncm91bmQ6dXJsKGh0dHBzOi8vY29udGVudC5saW5rZWRpbi5jb20vY29udGVudC9kYW0vZGV2ZWxvcGVyL2dsb2JhbC9lbl9VUy9zaXRlL2ltZy9zaWduaW4tYnV0dG9uLnBuZykgLTNweCAtM3B4IG5vLXJlcGVhdH0uLS1saW5rZWRpbjpmb2N1cywuLS1saW5rZWRpbjpob3ZlcntiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgjMDA3YmI2LCM0ODY0YjEpfS5zb2NpYWwtYnRue3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmFkaXVzOjEwcHg7Ym9yZGVyOm5vbmV9LnNvY2lhbC1idG4uZmFjZWJvb2t7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9tYXN0ZXIvYXNzZXRzL2ZhY2Vib29rLnBuZyl9LnNvY2lhbC1idG4uZ29vZ2xle2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vbWFzdGVyL2Fzc2V0cy9nb29nbGUucG5nKX0uc29jaWFsLWJ0bi5saW5rZWRpbntiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL21hc3Rlci9hc3NldHMvTGlua2VkSW4ucG5nKX0uc29jaWFsLWJ0bi53ZWNoYXR7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9naXRodWIuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9ibG9iL21hc3Rlci9hc3NldHMvd2VjaGF0LnBuZz9yYXc9dHJ1ZSl9YF0sXG59KVxuZXhwb3J0IGNsYXNzIEZhY2Vib29rTG9naW5CdXR0b24gaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgpIHNpemU6IHN0cmluZztcbiAgQElucHV0KCkgdGV4dDogc3RyaW5nO1xuICBASW5wdXQoKSBzdHlsZTogc3RyaW5nO1xuICBASW5wdXQoKSBzY29wZXM6IFtzdHJpbmddO1xuICBAT3V0cHV0KCkgc29jaWFsVXNlciA9IG5ldyBFdmVudEVtaXR0ZXI8U29jaWFsVXNlcj4oKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNvY2lhbEF1dGhTZXJ2aWNlOiBTb2NpYWxTZXJ2aWNlKSB7IH1cblxuICBuZ09uSW5pdCgpIHtcblxuICB9XG5cbiAgcHVibGljIHNvY2lhbFNpZ25JbigpIHsgICAgXG4gICAgdGhpcy5zb2NpYWxBdXRoU2VydmljZS5zaWduSW4oJ2ZhY2Vib29rJywgdGhpcy5zY29wZXMpLnRoZW4oXG4gICAgICAodXNlckRhdGE6U29jaWFsVXNlcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcInNvY2lhbFNpZ25JblwiLCB1c2VyRGF0YSk7XG4gICAgICAgdGhpcy5zb2NpYWxVc2VyLmVtaXQodXNlckRhdGEpXG4gICAgICB9XG4gICAgKS5jYXRjaCgoKT0+e1xuICAgICAgICB0aGlzLnNvY2lhbFVzZXIuZW1pdChudWxsKTtcbiAgICB9KTtcbiAgfVxuXG59XG4iLCJpbXBvcnQge0NvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtTb2NpYWxTZXJ2aWNlfSBmcm9tICcuLi9zb2NpYWwuc2VydmljZSc7XG5pbXBvcnQge1NvY2lhbFVzZXJ9IGZyb20gJy4uL2VudGl0aWVzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdnb29nbGUtbG9naW4tYnV0dG9uJyxcbiAgICB0ZW1wbGF0ZTogYFxuXHRcdDxidXR0b24gW2NsYXNzTmFtZV09XCJzdHlsZSA9PSAncm91bmQnID8gJ3NvY2lhbC1idG4gZ29vZ2xlJyA6ICdidXR0b24gYnRuLWJsb2NrIGxvZ2luQnRuIC0tZ29vZ2xlJ1wiXG5cdFx0ICAgICAgICAoY2xpY2spPVwic29jaWFsU2lnbkluKClcIiB0eXBlPVwiYnV0dG9uXCI+XG5cdFx0XHR7e3N0eWxlID09ICdyb3VuZCcgPyAnJzogIHRleHQgPyB0ZXh0IDogJ0xvZ2luIHdpdGggR29vZ2xlJ319XG5cdFx0PC9idXR0b24+XG4gICAgYCwgc3R5bGVzOiBbYC5idXR0b257Zm9udC1mYW1pbHk6TGF0byxcIkx1Y2lkYSBHcmFuZGVcIixcIkx1Y2lkYSBTYW5zIFVuaWNvZGVcIixUYWhvbWEsU2Fucy1TZXJpZjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jaztvdXRsaW5lOjA7Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOjNweCBzb2xpZCB0cmFuc3BhcmVudDtjdXJzb3I6cG9pbnRlcjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudDtmb250LXdlaWdodDo0MDAhaW1wb3J0YW50fS5sb2dpbkJ0bntib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOi4yZW07cGFkZGluZzowIDE1cHggMCA0NnB4O2JvcmRlcjpub25lO3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDozNHB4O3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTZweDtjb2xvcjojZmZmfS5sb2dpbkJ0bjpiZWZvcmV7Y29udGVudDpcIlwiO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MzRweDtoZWlnaHQ6MTAwJX0ubG9naW5CdG46Zm9jdXN7b3V0bGluZTowfS5sb2dpbkJ0bjphY3RpdmV7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAzMnB4IHJnYmEoMCwwLDAsLjEpfS5zaGFyZUJ0bntib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOi4yZW07cGFkZGluZzowIDE1cHggMCA0NnB4O2JvcmRlcjpub25lO3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDozNHB4O3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTZweDtjb2xvcjojZmZmfS5zaGFyZUJ0bjpiZWZvcmV7Y29udGVudDpcIlwiO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MzRweDtoZWlnaHQ6MTAwJX0uc2hhcmVCdG46Zm9jdXN7b3V0bGluZTowfS5zaGFyZUJ0bjphY3RpdmV7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAzMnB4IHJnYmEoMCwwLDAsLjEpfS4tLWZhY2Vib29re2JhY2tncm91bmQtY29sb3I6IzRjNjliYTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgjNGM2OWJhLCMzYjU1YTApO3RleHQtc2hhZG93OjAgLTFweCAwICMzNTRjOGN9Li0tZmFjZWJvb2s6YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgIzM2NGU5MjtiYWNrZ3JvdW5kOnVybChodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xNDA4Mi9pY29uX2ZhY2Vib29rLnBuZykgNnB4IDZweCBuby1yZXBlYXR9Li0tZmFjZWJvb2s6Zm9jdXMsLi0tZmFjZWJvb2s6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojNWI3YmQ1O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KCM1YjdiZDUsIzQ4NjRiMSl9Li0tZ29vZ2xle2JhY2tncm91bmQ6I2RkNGIzOX0uLS1nb29nbGU6YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgI2JiM2YzMDtiYWNrZ3JvdW5kOnVybChodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xNDA4Mi9pY29uX2dvb2dsZS5wbmcpIDZweCA2cHggbm8tcmVwZWF0fS4tLWdvb2dsZTpmb2N1cywuLS1nb29nbGU6aG92ZXJ7YmFja2dyb3VuZDojZTc0YjM3fS4tLWxpbmtlZGlue2JhY2tncm91bmQ6IzAwN2JiNn0uLS1saW5rZWRpbjpiZWZvcmV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMDA3YmI2O2JhY2tncm91bmQ6dXJsKGh0dHBzOi8vY29udGVudC5saW5rZWRpbi5jb20vY29udGVudC9kYW0vZGV2ZWxvcGVyL2dsb2JhbC9lbl9VUy9zaXRlL2ltZy9zaWduaW4tYnV0dG9uLnBuZykgLTNweCAtM3B4IG5vLXJlcGVhdH0uLS1saW5rZWRpbjpmb2N1cywuLS1saW5rZWRpbjpob3ZlcntiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgjMDA3YmI2LCM0ODY0YjEpfS5zb2NpYWwtYnRue3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmFkaXVzOjEwcHg7Ym9yZGVyOm5vbmV9LnNvY2lhbC1idG4uZmFjZWJvb2t7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9tYXN0ZXIvYXNzZXRzL2ZhY2Vib29rLnBuZyl9LnNvY2lhbC1idG4uZ29vZ2xle2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vbWFzdGVyL2Fzc2V0cy9nb29nbGUucG5nKX0uc29jaWFsLWJ0bi5saW5rZWRpbntiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL21hc3Rlci9hc3NldHMvTGlua2VkSW4ucG5nKX0uc29jaWFsLWJ0bi53ZWNoYXR7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9naXRodWIuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9ibG9iL21hc3Rlci9hc3NldHMvd2VjaGF0LnBuZz9yYXc9dHJ1ZSl9YF0sXG5cbn0pXG5leHBvcnQgY2xhc3MgR29vZ2xlTG9naW5CdXR0b24gaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgQElucHV0KCkgc2l6ZTogc3RyaW5nO1xuICAgIEBJbnB1dCgpIHN0eWxlOiBzdHJpbmc7XG4gICAgQElucHV0KCkgdGV4dDogc3RyaW5nO1xuICAgIEBJbnB1dCgpIHNjb3BlczogW3N0cmluZ107XG4gICAgQE91dHB1dCgpIHNvY2lhbFVzZXIgPSBuZXcgRXZlbnRFbWl0dGVyPFNvY2lhbFVzZXI+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNvY2lhbEF1dGhTZXJ2aWNlOiBTb2NpYWxTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgc29jaWFsU2lnbkluKCkge1xuICAgICAgICB0aGlzLnNvY2lhbEF1dGhTZXJ2aWNlLnNpZ25JbignZ29vZ2xlJywgdGhpcy5zY29wZXMpLnRoZW4oXG4gICAgICAgICAgICAodXNlckRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2lhbFVzZXIuZW1pdCh1c2VyRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zb2NpYWxVc2VyLmVtaXQobnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7U29jaWFsU2VydmljZX0gZnJvbSAnLi4vc29jaWFsLnNlcnZpY2UnO1xuaW1wb3J0IHtTb2NpYWxVc2VyfSBmcm9tICcuLi9lbnRpdGllcyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbGlua2VkaW4tbG9naW4tYnV0dG9uJyxcbiAgICB0ZW1wbGF0ZTogYFxuXHRcdDxidXR0b24gW2NsYXNzTmFtZV09XCJzdHlsZSA9PSAncm91bmQnID8gJ3NvY2lhbC1idG4gbGlua2VkaW4nIDogJ2J1dHRvbiBidG4tYmxvY2sgbG9naW5CdG4gLS1saW5rZWRpbidcIlxuXHRcdCAgICAgICAgKGNsaWNrKT1cInNvY2lhbFNpZ25JbigpXCIgdHlwZT1cImJ1dHRvblwiPlxuXHRcdFx0e3tzdHlsZSA9PSAncm91bmQnID8gJyc6ICB0ZXh0ID8gdGV4dCA6ICdMb2dpbiB3aXRoIExpbmtlZEluJ319XG5cdFx0PC9idXR0b24+XG4gICAgYCwgc3R5bGVzOiBbYC5idXR0b257Zm9udC1mYW1pbHk6TGF0byxcIkx1Y2lkYSBHcmFuZGVcIixcIkx1Y2lkYSBTYW5zIFVuaWNvZGVcIixUYWhvbWEsU2Fucy1TZXJpZjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jaztvdXRsaW5lOjA7Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOjNweCBzb2xpZCB0cmFuc3BhcmVudDtjdXJzb3I6cG9pbnRlcjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudDtmb250LXdlaWdodDo0MDAhaW1wb3J0YW50fS5sb2dpbkJ0bntib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOi4yZW07cGFkZGluZzowIDE1cHggMCA0NnB4O2JvcmRlcjpub25lO3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDozNHB4O3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTZweDtjb2xvcjojZmZmfS5sb2dpbkJ0bjpiZWZvcmV7Y29udGVudDpcIlwiO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MzRweDtoZWlnaHQ6MTAwJX0ubG9naW5CdG46Zm9jdXN7b3V0bGluZTowfS5sb2dpbkJ0bjphY3RpdmV7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAzMnB4IHJnYmEoMCwwLDAsLjEpfS5zaGFyZUJ0bntib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOi4yZW07cGFkZGluZzowIDE1cHggMCA0NnB4O2JvcmRlcjpub25lO3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDozNHB4O3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTZweDtjb2xvcjojZmZmfS5zaGFyZUJ0bjpiZWZvcmV7Y29udGVudDpcIlwiO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MzRweDtoZWlnaHQ6MTAwJX0uc2hhcmVCdG46Zm9jdXN7b3V0bGluZTowfS5zaGFyZUJ0bjphY3RpdmV7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAzMnB4IHJnYmEoMCwwLDAsLjEpfS4tLWZhY2Vib29re2JhY2tncm91bmQtY29sb3I6IzRjNjliYTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgjNGM2OWJhLCMzYjU1YTApO3RleHQtc2hhZG93OjAgLTFweCAwICMzNTRjOGN9Li0tZmFjZWJvb2s6YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgIzM2NGU5MjtiYWNrZ3JvdW5kOnVybChodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xNDA4Mi9pY29uX2ZhY2Vib29rLnBuZykgNnB4IDZweCBuby1yZXBlYXR9Li0tZmFjZWJvb2s6Zm9jdXMsLi0tZmFjZWJvb2s6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojNWI3YmQ1O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KCM1YjdiZDUsIzQ4NjRiMSl9Li0tZ29vZ2xle2JhY2tncm91bmQ6I2RkNGIzOX0uLS1nb29nbGU6YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgI2JiM2YzMDtiYWNrZ3JvdW5kOnVybChodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xNDA4Mi9pY29uX2dvb2dsZS5wbmcpIDZweCA2cHggbm8tcmVwZWF0fS4tLWdvb2dsZTpmb2N1cywuLS1nb29nbGU6aG92ZXJ7YmFja2dyb3VuZDojZTc0YjM3fS4tLWxpbmtlZGlue2JhY2tncm91bmQ6IzAwN2JiNn0uLS1saW5rZWRpbjpiZWZvcmV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMDA3YmI2O2JhY2tncm91bmQ6dXJsKGh0dHBzOi8vY29udGVudC5saW5rZWRpbi5jb20vY29udGVudC9kYW0vZGV2ZWxvcGVyL2dsb2JhbC9lbl9VUy9zaXRlL2ltZy9zaWduaW4tYnV0dG9uLnBuZykgLTNweCAtM3B4IG5vLXJlcGVhdH0uLS1saW5rZWRpbjpmb2N1cywuLS1saW5rZWRpbjpob3ZlcntiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgjMDA3YmI2LCM0ODY0YjEpfS5zb2NpYWwtYnRue3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmFkaXVzOjEwcHg7Ym9yZGVyOm5vbmV9LnNvY2lhbC1idG4uZmFjZWJvb2t7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9tYXN0ZXIvYXNzZXRzL2ZhY2Vib29rLnBuZyl9LnNvY2lhbC1idG4uZ29vZ2xle2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vbWFzdGVyL2Fzc2V0cy9nb29nbGUucG5nKX0uc29jaWFsLWJ0bi5saW5rZWRpbntiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL21hc3Rlci9hc3NldHMvTGlua2VkSW4ucG5nKX0uc29jaWFsLWJ0bi53ZWNoYXR7YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9naXRodWIuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9ibG9iL21hc3Rlci9hc3NldHMvd2VjaGF0LnBuZz9yYXc9dHJ1ZSl9YF0sXG5cbn0pXG5leHBvcnQgY2xhc3MgTGlua2VkaW5Mb2dpbkJ1dHRvbiBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBASW5wdXQoKSBzaXplOiBzdHJpbmc7XG4gICAgQElucHV0KCkgc3R5bGU6IHN0cmluZztcbiAgICBASW5wdXQoKSB0ZXh0OiBzdHJpbmc7XG4gICAgQElucHV0KCkgc2NvcGVzOiBbc3RyaW5nXTtcbiAgICBAT3V0cHV0KCkgc29jaWFsVXNlciA9IG5ldyBFdmVudEVtaXR0ZXI8U29jaWFsVXNlcj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc29jaWFsQXV0aFNlcnZpY2U6IFNvY2lhbFNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcblxuICAgIH1cblxuICAgIHB1YmxpYyBzb2NpYWxTaWduSW4oKSB7XG4gICAgICAgIHRoaXMuc29jaWFsQXV0aFNlcnZpY2Uuc2lnbkluKCdsaW5rZWRpbicsIHRoaXMuc2NvcGVzKS50aGVuKFxuICAgICAgICAgICAgKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb2NpYWxVc2VyLmVtaXQodXNlckRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICApLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc29jaWFsVXNlci5lbWl0KG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgSW5qZWN0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RE9DVU1FTlR9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7U29jaWFsU2VydmljZX0gZnJvbSAnLi4vc29jaWFsLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2ZhY2Vib29rLXNoYXJlLWJ1dHRvbicsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gYnRuLWJsb2NrIGxvZ2luQnRuIC0tZmFjZWJvb2tcIiBcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInNoYXJpbmcoKVwiIHR5cGU9XCJidXR0b25cIj5TaGFyZTwvYnV0dG9uPlxuICBgLFxuICAgIHN0eWxlczogW2AuYnV0dG9ue2ZvbnQtZmFtaWx5OkxhdG8sXCJMdWNpZGEgR3JhbmRlXCIsXCJMdWNpZGEgU2FucyBVbmljb2RlXCIsVGFob21hLFNhbnMtU2VyaWY7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3V0bGluZTowO2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjozcHggc29saWQgdHJhbnNwYXJlbnQ7Y3Vyc29yOnBvaW50ZXI7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6NDAwIWltcG9ydGFudH0ubG9naW5CdG57Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjouMmVtO3BhZGRpbmc6MCAxNXB4IDAgNDZweDtib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6MzRweDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmZn0ubG9naW5CdG46YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjM0cHg7aGVpZ2h0OjEwMCV9LmxvZ2luQnRuOmZvY3Vze291dGxpbmU6MH0ubG9naW5CdG46YWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMzJweCByZ2JhKDAsMCwwLC4xKX0uc2hhcmVCdG57Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjouMmVtO3BhZGRpbmc6MCAxNXB4IDAgNDZweDtib3JkZXI6bm9uZTt0ZXh0LWFsaWduOmxlZnQ7bGluZS1oZWlnaHQ6MzRweDt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6I2ZmZn0uc2hhcmVCdG46YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjM0cHg7aGVpZ2h0OjEwMCV9LnNoYXJlQnRuOmZvY3Vze291dGxpbmU6MH0uc2hhcmVCdG46YWN0aXZle2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMzJweCByZ2JhKDAsMCwwLC4xKX0uLS1mYWNlYm9va3tiYWNrZ3JvdW5kLWNvbG9yOiM0YzY5YmE7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIzRjNjliYSwjM2I1NWEwKTt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMzU0YzhjfS4tLWZhY2Vib29rOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICMzNjRlOTI7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTQwODIvaWNvbl9mYWNlYm9vay5wbmcpIDZweCA2cHggbm8tcmVwZWF0fS4tLWZhY2Vib29rOmZvY3VzLC4tLWZhY2Vib29rOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzViN2JkNTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCgjNWI3YmQ1LCM0ODY0YjEpfS4tLWdvb2dsZXtiYWNrZ3JvdW5kOiNkZDRiMzl9Li0tZ29vZ2xlOmJlZm9yZXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNiYjNmMzA7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vMTQwODIvaWNvbl9nb29nbGUucG5nKSA2cHggNnB4IG5vLXJlcGVhdH0uLS1nb29nbGU6Zm9jdXMsLi0tZ29vZ2xlOmhvdmVye2JhY2tncm91bmQ6I2U3NGIzN30uLS1saW5rZWRpbntiYWNrZ3JvdW5kOiMwMDdiYjZ9Li0tbGlua2VkaW46YmVmb3Jle2JvcmRlci1yaWdodDoxcHggc29saWQgIzAwN2JiNjtiYWNrZ3JvdW5kOnVybChodHRwczovL2NvbnRlbnQubGlua2VkaW4uY29tL2NvbnRlbnQvZGFtL2RldmVsb3Blci9nbG9iYWwvZW5fVVMvc2l0ZS9pbWcvc2lnbmluLWJ1dHRvbi5wbmcpIC0zcHggLTNweCBuby1yZXBlYXR9Li0tbGlua2VkaW46Zm9jdXMsLi0tbGlua2VkaW46aG92ZXJ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoIzAwN2JiNiwjNDg2NGIxKX0uc29jaWFsLWJ0bnt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czoxMHB4O2JvcmRlcjpub25lfS5zb2NpYWwtYnRuLmZhY2Vib29re2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vbWFzdGVyL2Fzc2V0cy9mYWNlYm9vay5wbmcpfS5zb2NpYWwtYnRuLmdvb2dsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSm9obm5pZUxpL25neC1zb2NpYWwtYnV0dG9uL21hc3Rlci9hc3NldHMvZ29vZ2xlLnBuZyl9LnNvY2lhbC1idG4ubGlua2VkaW57YmFja2dyb3VuZC1pbWFnZTp1cmwoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvaG5uaWVMaS9uZ3gtc29jaWFsLWJ1dHRvbi9tYXN0ZXIvYXNzZXRzL0xpbmtlZEluLnBuZyl9LnNvY2lhbC1idG4ud2VjaGF0e2JhY2tncm91bmQtaW1hZ2U6dXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9Kb2hubmllTGkvbmd4LXNvY2lhbC1idXR0b24vYmxvYi9tYXN0ZXIvYXNzZXRzL3dlY2hhdC5wbmc/cmF3PXRydWUpfWBdLFxufSlcbmV4cG9ydCBjbGFzcyBGYWNlYm9va1NoYXJpbmdCdXR0b24gaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgQElucHV0KCkgc2hhcmU6IGFueSA9IG51bGw7XG4gICAgQE91dHB1dCgpIHJlc3BvbnNlID0gbmV3IEV2ZW50RW1pdHRlcjxCb29sZWFuPigpO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzb2NpYWxBdXRoU2VydmljZTogU29jaWFsU2VydmljZSxcbiAgICAgQEluamVjdChET0NVTUVOVCkgcHJpdmF0ZSBkb2N1bWVudDogYW55KSB7IH1cblxuICAgIG5nT25Jbml0KCkge1xuXG4gICAgfVxuXG4gICAgcHVibGljIHNoYXJpbmcoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZG9jdW1lbnQubG9jYXRpb24uaHJlZik7XG4gICAgICAgIGlmKCF0aGlzLnNoYXJlKXtcbiAgICAgICAgICAgIHRoaXMuc2hhcmUgPSB7aHJlZjp0aGlzLmRvY3VtZW50LmxvY2F0aW9uLmhyZWZ9XG4gICAgICAgIH1lbHNlIGlmKCF0aGlzLnNoYXJlLmhyZWYpe1xuICAgICAgICAgICAgdGhpcy5zaGFyZS5ocmVmID0gdGhpcy5kb2N1bWVudC5sb2NhdGlvbi5ocmVmXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb2NpYWxBdXRoU2VydmljZS5mYWNlYm9va1NoYXJpbmcodGhpcy5zaGFyZSkudGhlbigoKT0+e1xuICAgICAgICAgICAgdGhpcy5yZXNwb25zZS5lbWl0KHRydWUpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyKT0+e1xuICAgICAgICAgICAgdGhpcy5yZXNwb25zZS5lbWl0KGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQge1xuICAgIENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIEluamVjdCwgRWxlbWVudFJlZiwgVmlld0NoaWxkLFxuICAgIEFmdGVyVmlld0luaXRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0RPQ1VNRU5UfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQge1NvY2lhbFNlcnZpY2V9IGZyb20gJy4uL3NvY2lhbC5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdsaW5rZWRpbi1zaGFyZS1idXR0b24nLFxuICAgIHRlbXBsYXRlOiBgXG4gICAgICAgIDxzcGFuICNlbGVtZW50Pjwvc3Bhbj5cbiAgICBgLFxufSlcbmV4cG9ydCBjbGFzcyBMaW5rZWRpblNoYXJpbmdCdXR0b24gaW1wbGVtZW50cyBBZnRlclZpZXdJbml0IHtcblxuICAgIEBJbnB1dCgpIHNoYXJlOiBhbnkgPSB7aHJlZjogbG9jYXRpb24uaHJlZn07XG4gICAgQE91dHB1dCgpIHJlc3BvbnNlID0gbmV3IEV2ZW50RW1pdHRlcjxCb29sZWFuPigpO1xuICAgIEBWaWV3Q2hpbGQoJ2VsZW1lbnQnKSBlbGVtZW50OiBFbGVtZW50UmVmO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzb2NpYWxBdXRoU2VydmljZTogU29jaWFsU2VydmljZSxcbiAgICAgICAgICAgICAgICBASW5qZWN0KERPQ1VNRU5UKSBwcml2YXRlIGRvY3VtZW50OiBhbnkpIHtcbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIC8vIGFkZCBsaW5rZWRpbiBzaGFyZSBidXR0b24gc2NyaXB0IHRhZyB0byBlbGVtZW50XG4gICAgICAgIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmlubmVySFRNTCA9IGA8c2NyaXB0IHR5cGU9XCJJTi9TaGFyZVwiIGRhdGEtdXJsPVwiJHt0aGlzLnNoYXJlLmhyZWZ9XCI+PC9zY3JpcHQ+YDtcbiAgICAgICAgLy8gcmVuZGVyIHNoYXJlIGJ1dHRvblxuICAgICAgICAvLyB3aW5kb3dbJ0lOJ10gJiYgd2luZG93WydJTiddLnBhcnNlKCk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRmFjZWJvb2tMb2dpbkJ1dHRvbiB9IGZyb20gJy4vYnV0dG9ucy9mYWNlYm9va0xvZ2luQnV0dG9uJztcbmltcG9ydCB7IEdvb2dsZUxvZ2luQnV0dG9uIH0gZnJvbSAnLi9idXR0b25zL2dvb2dsZUxvZ2luQnV0dG9uJztcbmltcG9ydCB7RmFjZWJvb2tTaGFyaW5nQnV0dG9ufSBmcm9tICcuL2J1dHRvbnMvZmFjZWJvb2tTaGFyaW5nQnV0dG9uJztcbmltcG9ydCB7TGlua2VkaW5Mb2dpbkJ1dHRvbn0gZnJvbSAnLi9idXR0b25zL2xpbmtlZGluTG9naW5CdXR0b24nO1xuaW1wb3J0IHtMaW5rZWRpblNoYXJpbmdCdXR0b259IGZyb20gJy4vYnV0dG9ucy9saW5rZWRpblNoYXJpbmdCdXR0b24nO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcblxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbRmFjZWJvb2tMb2dpbkJ1dHRvbiwgR29vZ2xlTG9naW5CdXR0b24sXG4gICAgICAgIEZhY2Vib29rU2hhcmluZ0J1dHRvbiwgTGlua2VkaW5Mb2dpbkJ1dHRvbixcbiAgICAgICAgTGlua2VkaW5TaGFyaW5nQnV0dG9uXSxcbiAgICBleHBvcnRzOiBbRmFjZWJvb2tMb2dpbkJ1dHRvbiwgR29vZ2xlTG9naW5CdXR0b24sXG4gICAgICAgIEZhY2Vib29rU2hhcmluZ0J1dHRvbiwgTGlua2VkaW5Mb2dpbkJ1dHRvbixcbiAgICAgICAgTGlua2VkaW5TaGFyaW5nQnV0dG9uXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hTb2NpYWxCdXR0b25Nb2R1bGUgeyB9XG4iXSwibmFtZXMiOlsidHNsaWJfMS5fX2V4dGVuZHMiLCJCZWhhdmlvclN1YmplY3QiLCJJbmplY3RhYmxlIiwiRXZlbnRFbWl0dGVyIiwiQ29tcG9uZW50IiwiSW5wdXQiLCJPdXRwdXQiLCJJbmplY3QiLCJET0NVTUVOVCIsIlZpZXdDaGlsZCIsIk5nTW9kdWxlIl0sIm1hcHBpbmdzIjoi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